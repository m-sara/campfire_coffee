'use strict';

var Store(minCust, maxCust, avgCups) = {
  this.minCust: minCust,
  this.maxCust: maxCust,
  this.avgCups: avgCups,
  this.avgLbs: 0.34,
  this.hours: ['6:00am',
              '7:00am',
              '8:00am',
              '9:00am',
              '10:00am',
              '11:00am',
              '12:00pm',
              '1:00pm',
              '2:00pm',
              '3:00pm',
              '4:00pm',
              '5:00pm',
              '6:00pm',
              '7:00pm',
              '8:00pm'],
  randomCust: [],
  totalCust: 0,
  cupsPerHour: [],
  totalCups: 0,
  bagLbsPerHour: [],
  totalBagLbs: 0,
  cupBeansPerHour: [],
  totalCupBeans: [],
  allBeans: 0,
  emplPerHour: [],
  pikeEl: document.getElementById('pike'),
  ulEl: document.createElement('ul'),
  titleEl: document.createElement('titleEl'),

  getRandomCust: function() {
    this.randomCust.length = 0;
    for (var i = 0; i < this.hours.length; i++) {
      var numRandCust = Math.floor((Math.random() * (this.maxCust - this.minCust + 1)) + this.minCust);
      console.log('Customers for hour ' + (i + 1) + ': ' + numRandCust);
      this.totalCust += numRandCust;
      console.log('Total customers: ' + this.totalCust);
      this.randomCust.push(numRandCust);
    }
  },

  getCupsPerHr: function() {
    this.cupsPerHour.length = 0;
    for (var i = 0; i < this.hours.length; i++) {
      var numCupsHr = Math.ceil(this.randomCust[i] * this.avgCups);
      console.log('Cups for hour ' + (i + 1) + ': ' + numCupsHr);
      this.totalCups += numCupsHr;
      console.log('Total cups for the day: ' + this.totalCups);
      this.cupsPerHour.push(numCupsHr);
    }
  },

  getLbsPerHr: function() {
    this.bagLbsPerHour.length = 0;
    for (var i = 0; i < this.hours.length; i++) {
      var numLbsHr = Math.ceil(this.randomCust[i] * this.avgLbs);
      console.log('Lbs for hour ' + (i + 1) + ': ' + numLbsHr);
      this.totalBagLbs += numLbsHr;
      console.log('Total lbs for the day: ' + this.totalBagLbs);
      this.bagLbsPerHour.push(numLbsHr);
    }
  },

  getBeansPerHr: function() {
    this.cupBeansPerHour.length = 0;
    for (var i = 0; i < this.hours.length; i++) {
      var numBeenzHr = parseFloat((this.cupsPerHour[i] / 16).toFixed(1));
      console.log('Lbs of beans for cups in hour ' + (i + 1) + ': ' + numBeenzHr);
      this.cupBeansPerHour.push(numBeenzHr);
    }
  },

  getTotalBeans: function() {
    for (var i = 0; i < this.hours.length; i++) {
      console.log(this.cupBeansPerHour[i]);
      console.log(this.bagLbsPerHour[i]);
      var totalBeenz = this.cupBeansPerHour[i] + this.bagLbsPerHour[i];
      console.log('Total lbs of beans for hour ' + (i + 1) + ': ' + totalBeenz);
      this.totalCupBeans.push(totalBeenz);
      this.allBeans += totalBeenz;
    }
  },

  getEmployees: function() {
    for (var i = 0; i < this.hours.length; i++) {
      var employeeNumber = Math.ceil((this.randomCust[i] * 2) / 60);
      console.log('Employees for hour ' + (i + 1) + ': ' + employeeNumber);
      this.emplPerHour.push(employeeNumber);
    }
  },

  doAllTheThings: function() {
    Pike.getRandomCust();
    console.log(Pike.randomCust);
    Pike.getCupsPerHr();
    console.log('Total cups for the day: ' + Pike.totalCups);
    console.log(Pike.cupsPerHour);
    Pike.getLbsPerHr();
    console.log(Pike.bagLbsPerHour);
    Pike.getBeansPerHr();
    console.log(Pike.cupBeansPerHour);
    Pike.getTotalBeans();
    console.log('Total lbs beans total: ' + parseFloat(Pike.allBeans).toFixed(1));
    Pike.getEmployees();
    console.log(Pike.emplPerHour);
  },

  typeAllTheStuff: function() {
    for (var i = 0; i < this.hours.length; i++) {
      var title = document.createElement('h3');
      title.textContent = 'Pike Place Market';
      var liEl = document.createElement('li');
      liEl.textContent = this.hours[i] + ': ' + this.totalCupBeans[i] + ' lbs [' + this.randomCust[i] + ' customers, ' + this.cupsPerHour[i] + ' cups (' + this.cupBeansPerHour[i] + ' lbs), ' + this.bagLbsPerHour[i] + ' lbs to-go]';
      this.ulEl.appendChild(liEl);
      var allCust = document.createElement('li');
      allCust.textContent = 'Total customers at ' + title.textContent + ': ' + this.totalCust;
      var allCups = document.createElement('li');
      allCups.textContent = 'Total cups sold at ' + title.textContent + ': ' + this.totalCups;
      var allBagLbs = document.createElement('li');
      allBagLbs.textContent = 'Total to-go pound packages sold at ' + title.textContent + ': ' + this.totalBagLbs;
      var allLbs = document.createElement('li');
      allLbs.textContent = 'Total pounds of beans needed at ' + title.textContent + ': ' + parseFloat(this.allBeans).toFixed(1);
    }
    this.titleEl.appendChild(title);
    this.pikeEl.appendChild(this.titleEl);
    this.pikeEl.appendChild(this.ulEl);
    this.pikeEl.appendChild(allCust);
    this.pikeEl.appendChild(allCups);
    this.pikeEl.appendChild(allBagLbs);
    this.pikeEl.appendChild(allLbs);
  }
}
